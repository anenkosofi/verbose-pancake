window.addEventListener("load",(function(){document.body.style.overflow="hidden";const e=document.querySelector(".loader");setTimeout((function(){e.classList.add("is-hidden"),document.body.style.overflow="visible"}),5e3)}));const e=document.querySelector(".backdrop"),t=document.querySelector(".modal");let n=null,o=null;function r(){n=setTimeout((function(){t.insertAdjacentHTML("beforeend",'<p class="modal__description">Are you still here?</p>\n    <button type="button" class="primary-button modal__button">Confirm</button>'),e.classList.remove("is-hidden"),document.body.style.overflow="hidden";document.querySelector(".modal__button").addEventListener("click",s),o=setTimeout((()=>{window.close()}),1e4)}),6e4)}function s(){clearTimeout(o),clearTimeout(n),e.classList.add("is-hidden"),t.innerHTML="",document.body.style.overflow="visible",r()}r(),document.addEventListener("mousemove",(function(){clearTimeout(n),r()})),document.addEventListener("keydown",(function(){clearTimeout(n),r()}));const i=document.querySelector(".header__progress");window.addEventListener("scroll",(function(){const e=window.innerHeight,t=document.body.clientHeight,n=window.scrollY/(t-e)*100;i.style.width=`${n}%`}));const c=document.querySelector(".service__filters-list"),a=document.querySelector(".service__list");function l(){return fetch("https://64be73b75ee688b6250c6d71.mockapi.io/design").then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))}function d(e){const t=new Map;for(const n of e)t.set(n.category,n);return Array.from(t.values())}function u(e){const t=e.map((({title:e,description:t})=>`<li class="service__item">\n        <div class="service__content">\n          <h3 class="service__post-heading">${e}</h3>\n          <p class="service__description">\n            ${t}\n          </p>\n        </div>\n      </li>`)).join("");a.innerHTML=t}c.addEventListener("click",(function(e){const t=e.target.closest("li");if(!t)return;if(t)if(t.classList.contains("service__filters-item_active"))t.classList.contains("service__filters-item_active")&&(Array.from(c.children).forEach((e=>e.classList.remove("service__filters-item_active"))),l().then((e=>{t.classList.remove("service__filters-item_active"),c.children[0].classList.add("service__filters-item_active");u(d(e))})).catch((e=>console.log(e))));else{Array.from(c.children).forEach((e=>e.classList.remove("service__filters-item_active")));const e=t.dataset.id.toLowerCase();t.classList.add("service__filters-item_active"),"all"!==e?function(e){return fetch(`https://64be73b75ee688b6250c6d71.mockapi.io/design?category=${e}`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))}(e).then((e=>u(e))).catch((e=>console.log(e))):l().then((e=>{u(d(e))})).catch((e=>console.log(e)))}})),l().then((e=>{!function(e){const t=[...new Set(e.map((({category:e})=>e)))].map((e=>`<li class="service__filters-item" data-id="${e}">\n          ${e}\n        </li>`)).join("");c.insertAdjacentHTML("beforeend",t)}(e),u(d(e))})).catch((e=>console.log(e)));const m=document.querySelector(".work"),f=document.querySelectorAll(".path");new IntersectionObserver((function(e,t){e.forEach((e=>{e.isIntersecting&&(Array.from(f).map((e=>e.style.animation="dash 5s linear forwards")),t.unobserve(m))}))}),{root:null,rootMargin:"50px",threshold:1}).observe(m);const y=document.querySelectorAll(".line");document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".work__item");let t,n,o,r,s=!1,i=null;e.forEach((e=>{e.addEventListener("mousedown",(c=>{s=!0,t=c.clientX,n=c.clientY,i=e,o=e.offsetLeft,r=e.offsetTop,Array.from(y).map((e=>e.style.opacity=0))})),e.addEventListener("mousemove",(e=>{if(s&&i){const s=e.clientX-t,c=e.clientY-n;i.style.left=`${o+s}px`,i.style.top=`${r+c}px`}})),e.addEventListener("mouseup",(()=>{s&&i&&(s=!1,o=0,r=0)})),e.addEventListener("mouseleave",(()=>{s&&i&&(s=!1,o=0,r=0)}))}))})),new Swiper(".testimonials__comments",{loop:!0,spaceBetween:180,grabCursor:!0,slidesPerView:2,slidesPerGroup:2,navigation:{nextEl:".testimonials__button_right",prevEl:".testimonials__button_left"}});const h=document.querySelector(".news"),v=document.querySelectorAll(".news__item");new IntersectionObserver((function(e,t){e.forEach((e=>{Array.from(v).map((t=>e.isIntersecting?t.style.opacity=1:t.style.opacity=0))}))}),{root:null,rootMargin:"400px",threshold:1}).observe(h);const _=document.querySelector(".sign-up__form"),p=document.querySelector(".backdrop"),w=document.querySelector(".modal"),L=document.querySelector("#name-error"),g=document.querySelector("#surname-error"),b=document.querySelector("#email-error"),S=/^[A-Z][a-zA-Z]*$/,q=/^[\w\.-]+@[a-zA-Z\d\.-]+\.[a-zA-Z]{2,}$/,E="Name must start with an uppercase letter and contain only Latin letters and no spaces",T="Surname must start with an uppercase letter and contain only Latin letters and no spaces",A={name:"",surname:"",email:""};_.addEventListener("input",(function(e){const t=e.target,n=t.name,o=t.value;A[n]=o,function(e,t){const n=document.querySelector(`#${e}-error`);let o="";t.length?"name"!==e||S.test(t)?"surname"!==e||S.test(t)?"email"!==e||q.test(t)||(o="Invalid email format."):o=T:o=E:o="This field is required";n.textContent=o}(n,o)})),_.addEventListener("submit",(function(e){e.preventDefault();const t={name:"",surname:"",email:""},n=A.name,o=A.surname,r=A.email,s=n.length&&S.test(n),i=o.length&&S.test(o),c=r.length&&q.test(r);t.name=s?"":E,t.surname=i?"":T,t.email=c?"":"Invalid email format.";s&&i&&c?(localStorage.setItem("formValues",JSON.stringify(A)),e.target.reset(),"Sigma"===A.name&&function(){const e=(new Date).toLocaleDateString("uk-UA"),t=`<h1 class="modal__heading">Hello, ${A.name}!</h1>\n    <p class="modal__description">Today ${e}, for users with your name, there's a 120% discount when placing an order!</p>`;w.insertAdjacentHTML("beforeend",t),document.body.style.overflow="hidden",p.classList.remove("is-hidden"),setTimeout((()=>{p.classList.add("is-hidden"),document.body.style.overflow="visible",w.innerHTML=""}),5e3)}()):(L.textContent=t.name,g.textContent=t.surname,b.textContent=t.email)}));const x=document.querySelector("#time"),k=(new Date).toLocaleDateString("uk-UA",{year:"numeric"});x.innerHTML=k;const C=document.querySelector(".yoda__form"),$=document.querySelector(".yoda__output"),M=document.querySelector(".yoda__error");C.addEventListener("submit",(function(e){e.preventDefault();const t=e.target.elements.text.value;if(!t.length)return M.textContent="This field is required";M.textContent="",function(e){const t="https://api.funtranslations.com/translate/yoda.json",n={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`text=${encodeURIComponent(e)}`};return fetch(t,n).then((e=>{if(!e.ok)throw new Error("Translation request failed.");return e.json()})).catch((e=>(console.error(e.message),null)))}(t).then((({contents:{translated:e}})=>$.textContent=e)).catch((e=>{console.log(e),$.textContent="You are out of free calls!"}))}));
//# sourceMappingURL=index.e16993fd.js.map
